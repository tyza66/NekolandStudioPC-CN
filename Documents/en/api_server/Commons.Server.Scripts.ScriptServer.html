<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class ScriptServer
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class ScriptServer
   ">
    <meta name="generator" content="docfx 1.0.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <meta property="docfx:navrel" content="../toc">
    <meta property="docfx:tocrel" content="toc">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img class="logo" id="logo" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../tutorials/intro.html" title="Tutorials">Tutorials</a>
                      </li>
                      <li>
                          <a href="../api_server/main.html" title="Server API">Server API</a>
                      </li>
                      <li>
                          <a href="../api_client/main.html" title="Client API">Client API</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Commons.Server.html" title="Commons.Server" class="">Commons.Server</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="Commons.Server.NekoEquipSlot.html" title="NekoEquipSlot" class="">NekoEquipSlot</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.NekoItemOptionType.html" title="NekoItemOptionType" class="">NekoItemOptionType</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.NekoItemType.html" title="NekoItemType" class="">NekoItemType</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.NekoSkillType.html" title="NekoSkillType" class="">NekoSkillType</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.NekoStats.html" title="NekoStats" class="">NekoStats</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.StatusCode.html" title="StatusCode" class="">StatusCode</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Commons.Server.Scripts.html" title="Commons.Server.Scripts" class="">Commons.Server.Scripts</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptClan.html" title="ScriptClan" class="">ScriptClan</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptColor.html" title="ScriptColor" class="">ScriptColor</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptDropItem.html" title="ScriptDropItem" class="">ScriptDropItem</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptEnemyUnitAI.html" title="ScriptEnemyUnitAI" class="">ScriptEnemyUnitAI</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptEventPublisher.html" title="ScriptEventPublisher" class="">ScriptEventPublisher</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptField.html" title="ScriptField" class="">ScriptField</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptObject.html" title="ScriptObject" class="">ScriptObject</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptParty.html" title="ScriptParty" class="">ScriptParty</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptPetUnit.html" title="ScriptPetUnit" class="">ScriptPetUnit</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptPetUnitAI.html" title="ScriptPetUnitAI" class="">ScriptPetUnitAI</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptPoint.html" title="ScriptPoint" class="">ScriptPoint</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptRect.html" title="ScriptRect" class="">ScriptRect</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptRoomPlayer.html" title="ScriptRoomPlayer" class="">ScriptRoomPlayer</a>
                          </li>
                          <li class="active">
                            <a href="Commons.Server.Scripts.ScriptServer.html" title="ScriptServer" class="active">ScriptServer</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptUnit.html" title="ScriptUnit" class="">ScriptUnit</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptUnitBuff.html" title="ScriptUnitBuff" class="">ScriptUnitBuff</a>
                          </li>
                          <li class="">
                            <a href="Commons.Server.Scripts.ScriptUtility.html" title="ScriptUtility" class="">ScriptUtility</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="network.html" title="network" class="">network</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="network.TGameAnimation.html" title="TGameAnimation" class="">TGameAnimation</a>
                          </li>
                          <li class="">
                            <a href="network.TGameAnimationCommand.html" title="TGameAnimationCommand" class="">TGameAnimationCommand</a>
                          </li>
                          <li class="">
                            <a href="network.TGameBuff.html" title="TGameBuff" class="">TGameBuff</a>
                          </li>
                          <li class="">
                            <a href="network.TGameCharacter.html" title="TGameCharacter" class="">TGameCharacter</a>
                          </li>
                          <li class="">
                            <a href="network.TGameCollection.html" title="TGameCollection" class="">TGameCollection</a>
                          </li>
                          <li class="">
                            <a href="network.TGameCommonEvent.html" title="TGameCommonEvent" class="">TGameCommonEvent</a>
                          </li>
                          <li class="">
                            <a href="network.TGameDropItem.html" title="TGameDropItem" class="">TGameDropItem</a>
                          </li>
                          <li class="">
                            <a href="network.TGameItem.html" title="TGameItem" class="">TGameItem</a>
                          </li>
                          <li class="">
                            <a href="network.TGameJob.html" title="TGameJob" class="">TGameJob</a>
                          </li>
                          <li class="">
                            <a href="network.TGameLayoutPage.html" title="TGameLayoutPage" class="">TGameLayoutPage</a>
                          </li>
                          <li class="">
                            <a href="network.TGameMapStub.html" title="TGameMapStub" class="">TGameMapStub</a>
                          </li>
                          <li class="">
                            <a href="network.TGameMonster.html" title="TGameMonster" class="">TGameMonster</a>
                          </li>
                          <li class="">
                            <a href="network.TGamePanorama.html" title="TGamePanorama" class="">TGamePanorama</a>
                          </li>
                          <li class="">
                            <a href="network.TGameResource.html" title="TGameResource" class="">TGameResource</a>
                          </li>
                          <li class="">
                            <a href="network.TGameSkill.html" title="TGameSkill" class="">TGameSkill</a>
                          </li>
                          <li class="">
                            <a href="network.TGameSpriteAction.html" title="TGameSpriteAction" class="">TGameSpriteAction</a>
                          </li>
                          <li class="">
                            <a href="network.TGameSpriteActionCell.html" title="TGameSpriteActionCell" class="">TGameSpriteActionCell</a>
                          </li>
                          <li class="">
                            <a href="network.TGameStrings.html" title="TGameStrings" class="">TGameStrings</a>
                          </li>
                          <li class="">
                            <a href="network.TGameTileset.html" title="TGameTileset" class="">TGameTileset</a>
                          </li>
                          <li class="">
                            <a href="network.TItem.html" title="TItem" class="">TItem</a>
                          </li>
                          <li class="">
                            <a href="network.TItemOption.html" title="TItemOption" class="">TItemOption</a>
                          </li>
                          <li class="">
                            <a href="network.TOnlinePetData.html" title="TOnlinePetData" class="">TOnlinePetData</a>
                          </li>
                          <li class="">
                            <a href="network.TQuickSlot.html" title="TQuickSlot" class="">TQuickSlot</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Commons.Server.Scripts.ScriptServer">
  
  
  <h1 id="Commons_Server_Scripts_ScriptServer" data-uid="Commons.Server.Scripts.ScriptServer" class="text-break">Class ScriptServer
  </h1>
  <div class="markdown level0 summary"><p><para><para>A server class that allows game servers to be scripted.</para><br><para>
Event handlers (listeners) can be added to in-game events such as user access, disconnection, and chat in the game.</para><br></para></p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">ScriptServer</span></div>
  </div>
  <!-- <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <xref uid="System.Object.ToString" text="Object.ToString()" alt="System.Object.ToString()"/>
    </div>
    <div>
      <xref uid="System.Object.Equals(System.Object)" text="Object.Equals(Object)" alt="System.Object.Equals(System.Object)"/>
    </div>
    <div>
      <xref uid="System.Object.Equals(System.Object,System.Object)" text="Object.Equals(Object, Object)" alt="System.Object.Equals(System.Object, System.Object)"/>
    </div>
    <div>
      <xref uid="System.Object.ReferenceEquals(System.Object,System.Object)" text="Object.ReferenceEquals(Object, Object)" alt="System.Object.ReferenceEquals(System.Object, System.Object)"/>
    </div>
    <div>
      <xref uid="System.Object.GetHashCode" text="Object.GetHashCode()" alt="System.Object.GetHashCode()"/>
    </div>
    <div>
      <xref uid="System.Object.GetType" text="Object.GetType()" alt="System.Object.GetType()"/>
    </div>
    <div>
      <xref uid="System.Object.MemberwiseClone" text="Object.MemberwiseClone()" alt="System.Object.MemberwiseClone()"/>
    </div>
  </div> -->
  <h6><strong>Namespace</strong>: <a class="xref" href="Commons.Server.Scripts.html">Commons.Server.Scripts</a></h6>
  <h6><strong>Assembly</strong>: Creator.dll</h6>
  <h5 id="Commons_Server_Scripts_ScriptServer_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[MoonSharpUserData]
public class ScriptServer : NekoEventListener</code></pre>
  </div>
  
  <h3 id="properties">Properties
  </h3>
  
  
  <a id="Commons_Server_Scripts_ScriptServer_createClan_" data-uid="Commons.Server.Scripts.ScriptServer.createClan*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_createClan" data-uid="Commons.Server.Scripts.ScriptServer.createClan">createClan</h4>
  <div class="markdown level1 summary"><p><para><para>This is the callback function when the clan was created.</para><br><para>
Callback function type: function(ScriptRoomPlayer player, string name, int joinType) =&gt; bool</para><br><para>
Returns: if the clan creation was successful (True: clan creation succeeded, False: clan creation failed)</para><br><para></para><br><para>
[1] player: Player who created the clan</para><br><para>
[2] name: The name of the clan</para><br><para>
[3] joinType: clan's join type</para><br><para>
(Clan subscription format [0: sign up immediately], [1: sign up request], [2: private])</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Closure createClan { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_createClan_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Case 1: Deciding whether to succeed or fail to create a clan using bool value return&#10;&#10;function createClan(player, clanName, joinType)&#10;    local noticeText = player.name .. ' has created Clan ' .. clanName&#10;    Server.SendCenterLabel(noticeText)&#10;    &#10;    -- False: failed.&#10;    return true&#10;end&#10;&#10;Server.createClan = createClan&#10;&#10;&#10;-- Case 2: Sending whether clan creation has failed using string return&#10;&#10;function createClan(player, clanName, joinType)&#10;    local noticeText = player.name .. ' has created Clan ' .. clanName&#10;    Server.SendCenterLabel(noticeText)&#10;    &#10;    -- When the string is returned as below, a message box is displayed on the client.&#10;    return "Error: Clan creation failed"&#10;end&#10;&#10;Server.createClan = createClan&#10;</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_damageCallback_" data-uid="Commons.Server.Scripts.ScriptServer.damageCallback*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_damageCallback" data-uid="Commons.Server.Scripts.ScriptServer.damageCallback">damageCallback</h4>
  <div class="markdown level1 summary"><p><para><para>This is the unit's damage calculation formula callback function (you can customize the damage formula)</para><br><para>
Callback function type: function(ScriptUnit from, ScriptUnit to, long damage, int skillDataID, bool critical, bool visible) =&gt; long</para><br><para>
Return value: Calculated damage, (+ critical or not), (+ whether or not damage is displayed)</para><br><para></para><br><para>
[1] from: Attack Unit</para><br><para>
[2] to: Target unit</para><br><para>
[3] damage: Attack Damage</para><br><para>
[4] skillDataID: skill's data ID</para><br><para>
[5] critical: critical or not</para><br><para>
[6] visible: whether to show the damage</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Closure damageCallback { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_damageCallback_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Event that occurs when dealing damage&#10;&#10;Server.damageCallback = function(a, b, damage, skillDataID, critical, visible)&#10;        -- Damage calculation (attacker's attack power-defender's defense power)&#10;        damage = a.atk - b.def&#10;        -- When the damage is 0, the damage display is not output.&#10;        if damage &lt;= 0  then&#10;                visible = false&#10;        end&#10;        -- Damage, critical, font output&#10;        return damage, critical, visible&#10;end</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_fields_" data-uid="Commons.Server.Scripts.ScriptServer.fields*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_fields" data-uid="Commons.Server.Scripts.ScriptServer.fields">fields</h4>
  <div class="markdown level1 summary"><p><para><para>Get all maps (fields) created in the current game.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptField[] fields { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptField.html">ScriptField</a>[]</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  
  <a id="Commons_Server_Scripts_ScriptServer_onAddItem_" data-uid="Commons.Server.Scripts.ScriptServer.onAddItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onAddItem" data-uid="Commons.Server.Scripts.ScriptServer.onAddItem">onAddItem</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when an item is added.</para><br><para>
Argument type of the function to be called: function(ScriptUnit unit, TItem item)</para><br><para></para><br><para>
[1] unit: The unit to which the item was added</para><br><para>
[2] item: Item added</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onAddItem { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onAddItem_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Event upon item acquisition&#10;&#10;Server.onAddItem.Add(&#10;function(unit, titem)&#10;        print(scriptUnit.name)&#10;        print(titem.dataID)&#10;end)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onBuyGameMoneyItem_" data-uid="Commons.Server.Scripts.ScriptServer.onBuyGameMoneyItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onBuyGameMoneyItem" data-uid="Commons.Server.Scripts.ScriptServer.onBuyGameMoneyItem">onBuyGameMoneyItem</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when a unit buys an item in gold (game money).</para><br><para>
Argument type of function to be called: function(ScriptUnit unit, int itemID, int count)</para><br><para></para><br><para>
[1] unit: The unit that bought the item</para><br><para>
[2] itemID: ID of the purchased item</para><br><para>
[3] count: the number of items bought</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onBuyGameMoneyItem { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onBuyGameMoneyItem_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Display the unit's name, item ID, and number when a player buys an item&#10;&#10;Server.onBuyGameMoneyItem.Add(&#10;  function(unit,itemID,count)&#10;    print(string.format("%s ,%s ,%s",unit.name,itemID,count))&#10;  end)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onBuyItem_" data-uid="Commons.Server.Scripts.ScriptServer.onBuyItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onBuyItem" data-uid="Commons.Server.Scripts.ScriptServer.onBuyItem">onBuyItem</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when a user purchases a paid item in the game with cube payment.</para><br><para>
Argument type of the function to be called: function(ScriptRoomPlayer player, string itemID, int amount)</para><br><para></para><br><para>
[1] player: Player who purchased</para><br><para>
[2] itemID: ID of the purchased item</para><br><para>
[3] amount: Number of cubes used</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onBuyItem { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onBuyItem_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When a user purchases a cube product, the user's screen says "Thank you for purchasing the product!" Print&#10;&#10;function onBuyItem(player, itemID, amount)&#10;    local numberItemID = tonumber(itemID)&#10;    local itemData = Server.GetItem(numberItemID)&#10;    &#10;    if itemData ~= nil then&#10;        player.unit.SendCenterLabel("Thank you for purchasing product " .. itemData.name)&#10;    end&#10;end&#10;&#10;Server.onBuyItem.Add(onBuyItem)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onEndState_" data-uid="Commons.Server.Scripts.ScriptServer.onEndState*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onEndState" data-uid="Commons.Server.Scripts.ScriptServer.onEndState">onEndState</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when the existing state is terminated when another state is executed.</para><br><para>
Argument type of the function to be called: function(int state)</para><br><para></para><br><para>
[1] state: the number of the state</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onEndState { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onEndState_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When a state is closed, let us know that the state has ended&#10;&#10;function onEndState(state)&#10;    Server.SendCenterLabel(state .. " status has ended")&#10;end&#10;&#10;Server.onEndState.Add(onEndState)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onJoinPlayer_" data-uid="Commons.Server.Scripts.ScriptServer.onJoinPlayer*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onJoinPlayer" data-uid="Commons.Server.Scripts.ScriptServer.onJoinPlayer">onJoinPlayer</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when a player enters the game.</para><br><para>
Argument type of the function to be called: function(ScriptRoomPlayer player)</para><br><para></para><br><para>
[1] player: Connected player object</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onJoinPlayer { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onJoinPlayer_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When the player connects, he says to the user, "Hello [username]!" Print&#10;&#10;function onJoinPlayer(player)&#10;    player.unit.SendCenterLabel("Hello " .. player.name .. "!")&#10;end&#10;&#10;Server.onJoinPlayer.Add(onJoinPlayer)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onLeavePlayer_" data-uid="Commons.Server.Scripts.ScriptServer.onLeavePlayer*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onLeavePlayer" data-uid="Commons.Server.Scripts.ScriptServer.onLeavePlayer">onLeavePlayer</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when the player leaves the game.</para><br><para>
Argument type of the function to be called: function(ScriptRoomPlayer player)</para><br><para></para><br><para>
[1] player: Outgoing player object</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onLeavePlayer { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onLeavePlayer_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When the player exits, notify the entire server that the user has exited&#10;-- Tip: However, the function is called 180 seconds (3 minutes) after disconnection from the user,&#10;--       considering factors such as network instability.&#10;&#10;function onLeavePlayer(player)&#10;    Server.SendCenterLabel(player.name .. "is out")&#10;end&#10;&#10;Server.onLeavePlayer.Add(onLeavePlayer)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onPetUnitLevelUp_" data-uid="Commons.Server.Scripts.ScriptServer.onPetUnitLevelUp*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onPetUnitLevelUp" data-uid="Commons.Server.Scripts.ScriptServer.onPetUnitLevelUp">onPetUnitLevelUp</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when the pet unit is leveled up.</para><br><para>
Argument type of function to be called: function(ScriptUnit unit, int level)</para><br><para></para><br><para>
[1] unit: Level up pet unit</para><br><para>
[2] level: Pet level</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onPetUnitLevelUp { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onPetUnitLevelUp_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Message output when pet level up&#10;&#10;function onPetUnitLevelUp(pet, level)&#10;    Server.SendCenterLabel("Pet " .. pet.name .. " has reached level " .. level)&#10;end&#10;&#10;Server.onPetUnitLevelUp.Add(onPetUnitLevelUp)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onRefreshStats_" data-uid="Commons.Server.Scripts.ScriptServer.onRefreshStats*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onRefreshStats" data-uid="Commons.Server.Scripts.ScriptServer.onRefreshStats">onRefreshStats</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when a unit renews a stat.</para><br><para>
Argument type of function to be called: function(ScriptUnit unit)</para><br><para></para><br><para>
[1] unit: The unit that updated the stat.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onRefreshStats { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onRefreshStats_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Display a notification when a unit's stats are updated&#10;&#10;function onRefreshStats(unit)&#10;    unit.SendCenterLabel("Refresh Stats")&#10;end&#10;&#10;Server.onRefreshStats.Add(onRefreshStats)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onRemoveItem_" data-uid="Commons.Server.Scripts.ScriptServer.onRemoveItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onRemoveItem" data-uid="Commons.Server.Scripts.ScriptServer.onRemoveItem">onRemoveItem</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when an item is removed.</para><br><para>
Argument type of the function to be called: function(ScriptUnit unit, TItem item)</para><br><para></para><br><para>
[1] unit: The unit from which the item was removed</para><br><para>
[2] item: Item removed</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onRemoveItem { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onRemoveItem_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Event when removing items&#10;&#10;Server.onRemoveItem.Add(&#10;function(scriptUnit,titem) &#10;        print(scriptUnit.name)&#10;        print(titem.id)&#10;        print(titem.dataID)        &#10;end)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onSay_" data-uid="Commons.Server.Scripts.ScriptServer.onSay*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onSay" data-uid="Commons.Server.Scripts.ScriptServer.onSay">onSay</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when the player speaks.</para><br><para>
Argument type of function to be called: function(ScriptUnit unit, string text)</para><br><para></para><br><para>
[1] unit: Said player object</para><br><para>
[2] text: What the player said</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onSay { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onSay_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When the user says, if the content that says "Hello" is included, "Hello!" Please indicate&#10;&#10;function onSay(unit, text)&#10;    if string.match(text, "Hello") then&#10;        unit.SendCenterLabel("Hello!")&#10;    end&#10;end&#10;&#10;Server.onSay.Add(onSay)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onSellGameMoneyItem_" data-uid="Commons.Server.Scripts.ScriptServer.onSellGameMoneyItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onSellGameMoneyItem" data-uid="Commons.Server.Scripts.ScriptServer.onSellGameMoneyItem">onSellGameMoneyItem</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when the unit sells a gold (game money) item to the store.</para><br><para>
Argument type of function to be called: function(ScriptUnit unit, int itemID, int count)</para><br><para></para><br><para>
[1] unit: The unit that sold the item</para><br><para>
[2] itemID: ID of the plate item</para><br><para>
[3] count: the number of items on the plate</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onSellGameMoneyItem { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onSellGameMoneyItem_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Display the unit's name, item ID, and number when the player sells the item&#10;&#10;Server.onSellGameMoneyItem.Add(&#10;  function(unit,itemID,count)&#10;    print(string.format("%s,%s,%s",unit.name,itemID,count))&#10;  end)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onStartState_" data-uid="Commons.Server.Scripts.ScriptServer.onStartState*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onStartState" data-uid="Commons.Server.Scripts.ScriptServer.onStartState">onStartState</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when a specific state is executed with Server.StartState().</para><br><para>
Argument type of the function to be called: function(int state)</para><br><para></para><br><para>
[1] state: the state number</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onStartState { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onStartState_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Notify me when a new state has started&#10;&#10;function onStartState(state)&#10;    Server.SendCenterLabel(state .. " status has started")&#10;end&#10;&#10;Server.onStartState.Add(onStartState)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onTick_" data-uid="Commons.Server.Scripts.ScriptServer.onTick*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onTick" data-uid="Commons.Server.Scripts.ScriptServer.onTick">onTick</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called every frame.</para><br><para>
Argument type of the function to be called: function(float dt)</para><br><para></para><br><para>
[1] dt: Delta time</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onTick { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onTick_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Display "Tick! ([Number])" in the chat window every frame&#10;-- Tip: The onTick event is an event with many calls&#10;-- If the number of events is used or the internal logic takes a long time to execute&#10;-- The server may be overloaded, so it should be used after optimization.&#10;&#10;count = 0&#10;function onTick(deltaTime)&#10;    Server.SendSay("Tick! (" .. count .. ")")&#10;    count = count + 1&#10;end&#10;&#10;Server.onTick.Add(onTick)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onTradeDone_" data-uid="Commons.Server.Scripts.ScriptServer.onTradeDone*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onTradeDone" data-uid="Commons.Server.Scripts.ScriptServer.onTradeDone">onTradeDone</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when the transaction has been successfully completed.</para><br><para>
Argument type of function to be called: function(ScriptUnit sender, ScriptUnit receiver, Table senderItems, Table receiverItems)</para><br><para></para><br><para>
[1] sender: the unit that initiated the transaction</para><br><para>
[2] receiver: the unit that received the transaction</para><br><para>
[3] senderItems: Item information sent by the unit that initiated the transaction (TItem)</para><br><para>
[4] receiverItems: Item information sent by the unit that received the transaction (TItem)</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onTradeDone { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onTradeDone_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Print on the chat window when the transaction of two users is successful&#10;&#10;function onTradeDone(sender, receiver, senderItems, receiverItems)&#10;    -- Display information of two users who have traded&#10;    Server.SendSay("The unit that initiated the transaction :" .. sender.name)&#10;    Server.SendSay("Unit that accepted the transaction :" .. receiver.name)&#10;    &#10;    -- Print items sent by the unit that initiated the transaction&#10;    Server.SendSay("Items sent by the launched unit")&#10;    &#10;    for i = 1, #senderItems do&#10;        local itemData = Server.GetItem(senderItems[i].dataID)&#10;        if itemData ~= nil then&#10;            Server.SendSay(itemData.name)&#10;        end&#10;    end&#10;&#10;    -- Print items sent by the unit that accepted the transaction&#10;    Server.SendSay("Items sent by accepted units")&#10;    &#10;    for i = 1, #receiverItems do&#10;        local itemData = Server.GetItem(receiverItems[i].dataID)&#10;        if itemData ~= nil then&#10;            Server.SendSay(itemData.name)&#10;        end&#10;    end&#10;    &#10;end&#10;&#10;-- Register for the event&#10;Server.onTradeDone.Add(onTradeDone)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onUnitDead_" data-uid="Commons.Server.Scripts.ScriptServer.onUnitDead*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onUnitDead" data-uid="Commons.Server.Scripts.ScriptServer.onUnitDead">onUnitDead</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when the unit dies.</para><br><para>
Argument type of function to be called: function(ScriptUnit target, ScriptUnit attacker)</para><br><para></para><br><para>
[1] target: Dead Unit Object</para><br><para>
[2] attacker: Unit object attacked (if nil, suicide)</para><br><para></para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onUnitDead { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onUnitDead_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When a user is killed by PVP, the entire server message is displayed and rewards are paid.&#10;&#10;function onUnitDead(target, attacker) -- target is dead, attacker is attacked&#10;    if (target.type == 0 and attacker.type == 0) then -- In the case of a player unit&#10;        Server.SendCenterLabel(attacker.name .. " killed " .. target.name)&#10;        attacker.AddGameMoney(100) -- Gives the attacker 100 gold.&#10;        if rand(1, 100) &lt;= 50 then&#10;            attacker.AddItem(100) -- Gives attacker 1 item with 50% chance.&#10;        end&#10;    end&#10;end&#10;&#10;Server.onUnitDead.Add(onUnitDead) -- Add onUnitDead function to Server.onUnitDead.&#10;</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onUnitLevelUp_" data-uid="Commons.Server.Scripts.ScriptServer.onUnitLevelUp*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onUnitLevelUp" data-uid="Commons.Server.Scripts.ScriptServer.onUnitLevelUp">onUnitLevelUp</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when a unit is promoted.</para><br><para>
Argument type of function to be called: function(ScriptUnit unit)</para><br><para></para><br><para>
[1] unit: The unit object to be leveled up</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onUnitLevelUp { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onUnitLevelUp_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When leveling up the player, outputting a message, and paying items when a certain level is achieved&#10;&#10;function onUnitLevelUp(target, level)&#10;    -- When the target has reached level 50, a notification is issued to the entire server and item 1 is issued.&#10;    if target.level == 50 then&#10;        Server.SendCenterLabel("User " .. target.name .. ' has achieved level ' .. level)&#10;        target.AddItem(1)&#10;    -- Once level 55 is achieved, 5 skills and 5000 game money are paid.&#10;    elseif target.level == 55 then&#10;        target.AddSkill(5)&#10;        target.AddGameMoney(5000)&#10;    end&#10;end&#10; &#10;Server.onUnitLevelUp.Add(onUnitLevelUp)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_onUseItem_" data-uid="Commons.Server.Scripts.ScriptServer.onUseItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_onUseItem" data-uid="Commons.Server.Scripts.ScriptServer.onUseItem">onUseItem</h4>
  <div class="markdown level1 summary"><p><para><para>This event is called when a unit uses an item.</para><br><para>
Argument type of function to be called: function(ScriptUnit unit, TItem item)</para><br><para></para><br><para>
[1] unit: the unit that used the item</para><br><para>
[2] item: Item used</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher onUseItem { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_onUseItem_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When using an item, print out the name and item number of the user who used the item&#10;&#10;function onUseItem(unit, item)&#10;    unit.SendCenterLabel(unit.name .. ": " .. item.dataID)&#10;end&#10;&#10;Server.onUseItem.Add(onUseItem)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_playerJoinPartyCallback_" data-uid="Commons.Server.Scripts.ScriptServer.playerJoinPartyCallback*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_playerJoinPartyCallback" data-uid="Commons.Server.Scripts.ScriptServer.playerJoinPartyCallback">playerJoinPartyCallback</h4>
  <div class="markdown level1 summary"><p><para><para>This is a callback function that is called when the unit joins the party</para><br><para>
Callback function format: function(ScriptRoomPlayer player, ScriptParty party) =&gt; bool</para><br><para>
Returns: whether the unit has joined the party (True: join, False: fail to join)</para><br><para></para><br><para>
[1] player: Unit to join</para><br><para>
[2] party: Participating party</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Closure playerJoinPartyCallback { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_playerJoinPartyCallback_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Events that occur when entering a party&#10;&#10;Server.playerJoinPartyCallback =&#10;function(scriptRoomPlayer,scriptParty)&#10;&#10;        print(scriptRoomPlayer.unit.name)&#10;        print(scriptParty.maxPlayer)&#10;&#10;        -- If you return true, you will enter the party&#10;        -- Depending on the conditions, you can block entry to the party using true/false&#10;        return true&#10;end</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_playerLeavePartyCallback_" data-uid="Commons.Server.Scripts.ScriptServer.playerLeavePartyCallback*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_playerLeavePartyCallback" data-uid="Commons.Server.Scripts.ScriptServer.playerLeavePartyCallback">playerLeavePartyCallback</h4>
  <div class="markdown level1 summary"><p><para><para>This is a callback function that is called when the unit leaves the party.</para><br><para>
Callback function type: function(ScriptRoomPlayer player, ScriptParty party)</para><br><para>
Return Value: None</para><br><para></para><br><para>
[1] player: Unit to get out of the party</para><br><para>
[2] party: Party to go out</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Closure playerLeavePartyCallback { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_playerLeavePartyCallback_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Events that occur when you leave a party&#10;&#10;Server.playerLeavePartyCallback = &#10;function(scriptRoomPlayer,scriptParty) &#10;        print(scriptRoomPlayer.unit.name)&#10;        print(scriptParty.maxPlayer)&#10;end</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_players_" data-uid="Commons.Server.Scripts.ScriptServer.players*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_players" data-uid="Commons.Server.Scripts.ScriptServer.players">players</h4>
  <div class="markdown level1 summary"><p><para><para>Get players currently connected to the game.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptRoomPlayer[] players { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptRoomPlayer.html">ScriptRoomPlayer</a>[]</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  
  <a id="Commons_Server_Scripts_ScriptServer_rewardCallback_" data-uid="Commons.Server.Scripts.ScriptServer.rewardCallback*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_rewardCallback" data-uid="Commons.Server.Scripts.ScriptServer.rewardCallback">rewardCallback</h4>
  <div class="markdown level1 summary"><p><para><para>This is the callback function for custom rewards when a monster dies.</para><br><para>
Callback function type: function(ScriptUnit unit, ScriptUnit monster, int damage)</para><br><para>
Return Value: None</para><br><para></para><br><para>
[1] unit: The unit that killed the monster</para><br><para>
[2] monster: Dead Monster Unit</para><br><para>
[3] damage: Damage taken</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Closure rewardCallback { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_rewardCallback_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When a monster dies, a notification is displayed to the user who killed the monster, and 1 item is provided.&#10;&#10;function rewardCallback(killer, monster, damage)&#10;    killer.SendCenterLabel("Killed monster " .. monster.name .. ". Damage Inflicted: " .. damage)&#10;    killer.AddItem(1, 1)    &#10;end&#10;&#10;Server.rewardCallback = rewardCallback</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_sayCallback_" data-uid="Commons.Server.Scripts.ScriptServer.sayCallback*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_sayCallback" data-uid="Commons.Server.Scripts.ScriptServer.sayCallback">sayCallback</h4>
  <div class="markdown level1 summary"><p><para><para>This is the callback function when the player speaks.</para><br><para>
Callback function format: function(ScriptRoomPlayer player, string text) =&gt; bool</para><br><para>
Returns: whether the player's speech is applied (True: apply dialogue, False: ignore dialogue)</para><br><para></para><br><para>
[1] player: The player who spoke</para><br><para>
[2] text: The dialogue spoken by the player</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Closure sayCallback { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_sayCallback_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- [Example 1] Banning Filtering Example&#10;&#10;function badwordFillter(player, text)&#10;    if string.contains(text, "Badword") then&#10;        player.unit.SendCenterLabel("Prohibited words cannot be used.")&#10;        return false&#10;    else&#10;        return true    &#10;    end&#10;end&#10;&#10;Server.sayCallback = badwordFillter&#10;&#10;&#10;-- [Example 2] Custom command example&#10;-- Enter "#hi" to show greetings to all users on the server&#10;&#10;function customCommand(player, text)&#10;    if text == "#hi" then&#10;        Server.SendCenterLabel(player.name .. ": Hi!")&#10;        return false&#10;    end&#10;&#10;    return true&#10;end&#10;&#10;Server.sayCallback = customCommand</code></pre>

  <h3 id="methods">Methods
  </h3>
  
  
  <a id="Commons_Server_Scripts_ScriptServer_CreateDropItem_" data-uid="Commons.Server.Scripts.ScriptServer.CreateDropItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_CreateDropItem_System_Int32_System_Int32_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.CreateDropItem(System.Int32,System.Int32,System.Int32)">CreateDropItem(Int32, Int32, Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Create drop item</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptDropItem CreateDropItem(int dataID, int count, int level = 0)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">dataID</span></td>
        <td><p><para><para>Item data ID</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">count</span></td>
        <td><p><para><para>number</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">level</span></td>
        <td><p><para><para>Item level base 0</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptDropItem.html">ScriptDropItem</a></td>
        <td><p><para><para></para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_CreateDropItem_System_Int32_System_Int32_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Tip: You can pick up the created drop item only by adding it to the field.&#10;&#10;-- When acquired, it creates a drop item that can have 3 items.&#10;local myDropItem = Server.CreateDropItem(5, 3)&#10;&#10;-- Add a drop item over 2 spaces in the field where your unit is currently&#10;unit.field.JoinDropItem(myDropItem, Point(unit.x, unit.y + 64))&#10;&#10;-- Directing the unit to pick it up&#10;myDropItem.Acquire(unit)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_CreateEventUnit_" data-uid="Commons.Server.Scripts.ScriptServer.CreateEventUnit*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_CreateEventUnit_System_String_System_String_" data-uid="Commons.Server.Scripts.ScriptServer.CreateEventUnit(System.String,System.String)">CreateEventUnit(String, String)</h4>
  <div class="markdown level1 summary"><p><para><para>Create event units (not recommended for use)</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptUnit CreateEventUnit(string name, string characterImageID)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">name</span></td>
        <td><p><para><para>Name</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">characterImageID</span></td>
        <td><p><para><para>Image ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptUnit.html">ScriptUnit</a></td>
        <td><p><para><para></para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_CreateEventUnit_System_String_System_String__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Deprecated function. May be reorganized later</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_CreateField_" data-uid="Commons.Server.Scripts.ScriptServer.CreateField*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_CreateField_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.CreateField(System.Int32)">CreateField(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Temporarily create a field for a specific map ID.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptField CreateField(int mapID)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">mapID</span></td>
        <td><p><para><para>Map data ID to generate</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptField.html">ScriptField</a></td>
        <td><p><para><para></para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_CreateField_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Create a temporary field for map 5&#10;&#10;local myField = Server.CreateField(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_CreateItem_" data-uid="Commons.Server.Scripts.ScriptServer.CreateItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_CreateItem_System_Int32_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.CreateItem(System.Int32,System.Int32)">CreateItem(Int32, Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Create item</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TItem CreateItem(int dataID, int count)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">dataID</span></td>
        <td><p><para><para>Database ID</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">count</span></td>
        <td><p><para><para>Item quantity</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TItem.html">TItem</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_CreateItem_System_Int32_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">--Create 3 item 5 and give it to the unit&#10;&#10;local myItem = Server.CreateItem(5, 3)&#10;unit.AddItemByTItem(myItem)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_CreateParty_" data-uid="Commons.Server.Scripts.ScriptServer.CreateParty*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_CreateParty_System_String_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.CreateParty(System.String,System.Int32)">CreateParty(String, Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Create a party</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptParty CreateParty(string name = &quot;&quot;, int maxPlayer = 4)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">name</span></td>
        <td><p><para><para>Party name</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">maxPlayer</span></td>
        <td><p><para><para>Party maximum players, 4 is the maximum</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptParty.html">ScriptParty</a></td>
        <td><p><para><para>Party data</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_CreateParty_System_String_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Create a new party with a maximum of 4 people&#10;&#10;local myParty = Server.CreateParty("Nekoland Party!", 4)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_ExportAverage_" data-uid="Commons.Server.Scripts.ScriptServer.ExportAverage*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_ExportAverage" data-uid="Commons.Server.Scripts.ScriptServer.ExportAverage">ExportAverage()</h4>
  <div class="markdown level1 summary"><p><para><para>Measure script uptime</para><br><para>
The path is the project and is named after ScriptPlayTimeAverage.txt</para><br><para>
Only available for test play</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void ExportAverage()</code></pre>
  </div>
  
  
  
  <a id="Commons_Server_Scripts_ScriptServer_FireEvent_" data-uid="Commons.Server.Scripts.ScriptServer.FireEvent*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_FireEvent_System_String_System_Object___" data-uid="Commons.Server.Scripts.ScriptServer.FireEvent(System.String,System.Object[])">FireEvent(String, Object[])</h4>
  <div class="markdown level1 summary"><p><para><para>Send events for topics to the client.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void FireEvent(string topic, params object[] arguments)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">topic</span></td>
        <td><p><para><para>topic ID to send </para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Object</span>[]</td>
        <td><span class="parametername">arguments</span></td>
        <td><p><para><para>factors to send together</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_FireEvent_System_String_System_Object____examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Send an event with the theme "MyName" to all clients&#10;-- "Hello Client!" as an argument Also sends the string&#10;&#10;Server.FireEvent("MyName", "Hello Client!")&#10;&#10;-- To receive the event from the client&#10;-- Try the code below&#10;&#10;Client.GetTopic("MyName").Add(function(name)&#10;    print(name)&#10;end)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetAnimation_" data-uid="Commons.Server.Scripts.ScriptServer.GetAnimation*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetAnimation_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetAnimation(System.Int32)">GetAnimation(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Animation information in the database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameAnimation GetAnimation(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Animation ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameAnimation.html">TGameAnimation</a></td>
        <td><p><para><para>Animation information in the database</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetAnimation_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get the number 5 animation information written in the database&#10;&#10;local myAni = Server.GetAnimation(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetBuff_" data-uid="Commons.Server.Scripts.ScriptServer.GetBuff*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetBuff_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetBuff(System.Int32)">GetBuff(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Status (buff) information for the database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameBuff GetBuff(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Status (buff) ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameBuff.html">TGameBuff</a></td>
        <td><p><para><para>Status information for the database</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetBuff_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get the 5 status (buff) information created in the database&#10;&#10;local myBuff = Server.GetBuff(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetCharacter_" data-uid="Commons.Server.Scripts.ScriptServer.GetCharacter*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetCharacter_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetCharacter(System.Int32)">GetCharacter(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Character information in the database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameCharacter GetCharacter(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Character ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameCharacter.html">TGameCharacter</a></td>
        <td><p><para><para>Character information in the database</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetCharacter_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get the number 5 character information written in the database&#10;&#10;local myCh = Server.GetCharacter(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetClanByID_" data-uid="Commons.Server.Scripts.ScriptServer.GetClanByID*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetClanByID_System_Int64_" data-uid="Commons.Server.Scripts.ScriptServer.GetClanByID(System.Int64)">GetClanByID(Int64)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptClan GetClanByID(long id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int64</span></td>
        <td><span class="parametername">id</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptClan.html">ScriptClan</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetClanByName_" data-uid="Commons.Server.Scripts.ScriptServer.GetClanByName*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetClanByName_System_String_" data-uid="Commons.Server.Scripts.ScriptServer.GetClanByName(System.String)">GetClanByName(String)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptClan GetClanByName(string name)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">name</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptClan.html">ScriptClan</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetCommonEvent_" data-uid="Commons.Server.Scripts.ScriptServer.GetCommonEvent*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetCommonEvent_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetCommonEvent(System.Int32)">GetCommonEvent(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Public event information in the database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameCommonEvent GetCommonEvent(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Event ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameCommonEvent.html">TGameCommonEvent</a></td>
        <td><p><para><para>Public event information </para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetCommonEvent_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get the number 5 public event information written in the database&#10;&#10;local myComEvent = Server.GetCommonEvent(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetField_" data-uid="Commons.Server.Scripts.ScriptServer.GetField*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetField_System_Int32_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetField(System.Int32,System.Int32)">GetField(Int32, Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Gets the field of a specific map ID.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptField GetField(int mapID, int channelID = -1)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">mapID</span></td>
        <td><p><para><para>Map data ID to import</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">channelID</span></td>
        <td><p><para><para>Channel ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptField.html">ScriptField</a></td>
        <td><p><para><para></para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetField_System_Int32_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get the field of map 5&#10;&#10;local myField = Server.GetField(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetItem_" data-uid="Commons.Server.Scripts.ScriptServer.GetItem*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetItem_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetItem(System.Int32)">GetItem(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Item Information in the database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameItem GetItem(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Item ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameItem.html">TGameItem</a></td>
        <td><p><para><para>Item Information in the database</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetItem_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get item number 5 written in the database&#10;&#10;local myItem = Server.GetItem(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetJob_" data-uid="Commons.Server.Scripts.ScriptServer.GetJob*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetJob_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetJob(System.Int32)">GetJob(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Job information in the database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameJob GetJob(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Job ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameJob.html">TGameJob</a></td>
        <td><p><para><para>Job information in the database</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetJob_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get job number 5 written in the database&#10;&#10;local myJob = Server.GetJob(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetMap_" data-uid="Commons.Server.Scripts.ScriptServer.GetMap*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetMap_System_Int32_network_TGameMapStub_" data-uid="Commons.Server.Scripts.ScriptServer.GetMap(System.Int32,network.TGameMapStub)">GetMap(Int32, TGameMapStub)</h4>
  <div class="markdown level1 summary"><p><para><para>Map data information </para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameMapStub GetMap(int id, TGameMapStub parent = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Map ID</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="network.TGameMapStub.html">TGameMapStub</a></td>
        <td><span class="parametername">parent</span></td>
        <td><p><para><para>The default null selected map's parent</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameMapStub.html">TGameMapStub</a></td>
        <td><p><para><para>Map data information </para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetMap_System_Int32_network_TGameMapStub__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get the information of the map with ID 5&#10;-- The ID of the map is displayed in #00 format on the PC or mobile studio map editor.&#10;&#10;local myMap = Server.GetMap(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetMonster_" data-uid="Commons.Server.Scripts.ScriptServer.GetMonster*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetMonster_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetMonster(System.Int32)">GetMonster(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Monster Information in the Database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameMonster GetMonster(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Monster ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameMonster.html">TGameMonster</a></td>
        <td><p><para><para>Monster Information in the Database</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetMonster_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get the number 5 monster information written in the database&#10;&#10;local myMonster = Server.GetMonster(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetMonsterAI_" data-uid="Commons.Server.Scripts.ScriptServer.GetMonsterAI*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetMonsterAI_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetMonsterAI(System.Int32)">GetMonsterAI(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Bring Monster AI</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Closure GetMonsterAI(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Monster ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetMonsterAI_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get AI function of monster 0&#10;&#10;local aiFunc = Server.GetMonsterAI(0)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetPetAI_" data-uid="Commons.Server.Scripts.ScriptServer.GetPetAI*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetPetAI_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetPetAI(System.Int32)">GetPetAI(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Bring pet AI</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Closure GetPetAI(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Pet ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetPetAI_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get AI function of pet 0&#10;&#10;local aiFunc = Server.GetPetAI(0)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetSkill_" data-uid="Commons.Server.Scripts.ScriptServer.GetSkill*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetSkill_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetSkill(System.Int32)">GetSkill(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Skill information in the database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameSkill GetSkill(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Skill ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameSkill.html">TGameSkill</a></td>
        <td><p><para><para>Skill information in the database</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetSkill_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get information on skill number 5 created in the database&#10;&#10;local mySkill = Server.GetSkill(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetStrings_" data-uid="Commons.Server.Scripts.ScriptServer.GetStrings*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetStrings" data-uid="Commons.Server.Scripts.ScriptServer.GetStrings">GetStrings()</h4>
  <div class="markdown level1 summary"><p><para><para>Database system character information</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameStrings GetStrings()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameStrings.html">TGameStrings</a></td>
        <td><p><para><para>Database system character information</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetStrings_examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get term information written in the database system&#10;&#10;local myStrings = Server.GetStrings()</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetTileset_" data-uid="Commons.Server.Scripts.ScriptServer.GetTileset*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetTileset_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetTileset(System.Int32)">GetTileset(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Tileset information in the database</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TGameTileset GetTileset(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Tileset ID</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="network.TGameTileset.html">TGameTileset</a></td>
        <td><p><para><para>Tileset information in the database</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetTileset_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Get the information on tile 5 set in the database&#10;&#10;local myTileset = Server.GetTileset(5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetTopic_" data-uid="Commons.Server.Scripts.ScriptServer.GetTopic*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetTopic_System_String_" data-uid="Commons.Server.Scripts.ScriptServer.GetTopic(System.String)">GetTopic(String)</h4>
  <div class="markdown level1 summary"><p><para><para>Get an event callback for a specific topic.<p>
<p>Process the topic event sent by the client. </para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ScriptEventPublisher GetTopic(string topic)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">topic</span></td>
        <td><p><para><para>topic ID to send </para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Commons.Server.Scripts.ScriptEventPublisher.html">ScriptEventPublisher</a></td>
        <td><p><para><para></para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetTopic_System_String__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- When a client sends a FireEvent with the theme "Apple"&#10;-- Display "Apple" message to all clients&#10;&#10;Server.GetTopic("Apple").Add(function()&#10;    Server.SendCenterLabel("Apple")&#10;end)&#10;&#10;-- When a client sends a FireEvent with the theme "MyName"&#10;-- Display argument message received by all clients&#10;&#10;-- On the client: Client.FireEvent("MyName", "Hello Server!")&#10;-- Output when running: Hello Server!&#10;&#10;Server.GetTopic("MyName").Add(function(name)&#10;    Server.SendCenterLabel(name)&#10;end)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetWorldStringVar_" data-uid="Commons.Server.Scripts.ScriptServer.GetWorldStringVar*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetWorldStringVar_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetWorldStringVar(System.Int32)">GetWorldStringVar(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Set the world variable value</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string GetWorldStringVar(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Variable id</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetWorldStringVar_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Output the value of the 4th world string variable&#10;&#10;local v = Server.GetWorldStringVar(4)&#10;Server.SendCenterLabel("Value of world string variable 4: " .. v)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_GetWorldVar_" data-uid="Commons.Server.Scripts.ScriptServer.GetWorldVar*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_GetWorldVar_System_Int32_" data-uid="Commons.Server.Scripts.ScriptServer.GetWorldVar(System.Int32)">GetWorldVar(Int32)</h4>
  <div class="markdown level1 summary"><p><para><para>Get the value of a world variable</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public long GetWorldVar(int id)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Variable id</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int64</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_GetWorldVar_System_Int32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Printing the value of world variable 4&#10;&#10;local v = Server.GetWorldVar(4)&#10;&#10;Server.SendCenterLabel('World variable 4: ' .. v)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_HttpGet_" data-uid="Commons.Server.Scripts.ScriptServer.HttpGet*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_HttpGet_System_String_MoonSharp_Interpreter_Closure_" data-uid="Commons.Server.Scripts.ScriptServer.HttpGet(System.String,MoonSharp.Interpreter.Closure)">HttpGet(String, Closure)</h4>
  <div class="markdown level1 summary"><p><para><para>Send Http GET request and get data</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool HttpGet(string url, Closure callback)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">url</span></td>
        <td><p><para><para>URL to which to send the request</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td><span class="parametername">callback</span></td>
        <td><p><para><para>Imported data processing callback</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_HttpGet_System_String_MoonSharp_Interpreter_Closure__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Receive data from a web page using Http GET&#10;&#10;Server.HttpGet('http://nekoland.net/', function (res)&#10;    print(res)&#10;end)&#10;&#10;</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_HttpPost_" data-uid="Commons.Server.Scripts.ScriptServer.HttpPost*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_HttpPost_System_String_MoonSharp_Interpreter_Table_MoonSharp_Interpreter_Closure_" data-uid="Commons.Server.Scripts.ScriptServer.HttpPost(System.String,MoonSharp.Interpreter.Table,MoonSharp.Interpreter.Closure)">HttpPost(String, Table, Closure)</h4>
  <div class="markdown level1 summary"><p><para><para>Http POST request sent, get data</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool HttpPost(string url, Table data, Closure callback)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">url</span></td>
        <td><p><para><para>URL to which to send the request</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Table</span></td>
        <td><span class="parametername">data</span></td>
        <td><p><para><para>Lua Table Format Data</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td><span class="parametername">callback</span></td>
        <td><p><para><para>Imported data processing callback</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_HttpPost_System_String_MoonSharp_Interpreter_Table_MoonSharp_Interpreter_Closure__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Create a table 't' and put POST request data to send&#10;local t = {}&#10;t.id = 1234&#10;t.name = "Hello"&#10;&#10;-- Send request to http://google.com URL and receive data with res&#10;Server.HttpGet('http://google.com', t, function(res)&#10;  print(res) -- The text returned by the web page is displayed.&#10;end)&#10;&#10;-- Get data from web server&#10;&#10;-- When requested by POST, data can be output as shown below.&#10;-- This data can be stored in a database such as MySQL for permanent storage.&#10;&#10;&lt;?php&#10;echo $_POST["id"];&#10;echo $_POST["name"];&#10;&#10;echo "I have received it well!";&#10;?&gt;&#10;&#10;-- This code checks whether the data sent from Server.HttpGet has arrived to the web server.&#10;-- By the print(res) of the above server script example, “1234Hello was well received!” Is output.</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_RunLater_" data-uid="Commons.Server.Scripts.ScriptServer.RunLater*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_RunLater_MoonSharp_Interpreter_Closure_System_Single_" data-uid="Commons.Server.Scripts.ScriptServer.RunLater(MoonSharp.Interpreter.Closure,System.Single)">RunLater(Closure, Single)</h4>
  <div class="markdown level1 summary"><p><para><para>After t seconds, execute the callback function.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void RunLater(Closure callback, float t)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td><span class="parametername">callback</span></td>
        <td><p><para><para>Function to execute</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Single</span></td>
        <td><span class="parametername">t</span></td>
        <td><p><para><para>Wait time to run (seconds)</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_RunLater_MoonSharp_Interpreter_Closure_System_Single__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Send message to all clients in 5 seconds&#10;&#10;Server.RunLater(function()&#10;    Server.SendCenterLabel('Five seconds passed!')&#10;end, 5)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_SendCenterLabel_" data-uid="Commons.Server.Scripts.ScriptServer.SendCenterLabel*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_SendCenterLabel_System_String_" data-uid="Commons.Server.Scripts.ScriptServer.SendCenterLabel(System.String)">SendCenterLabel(String)</h4>
  <div class="markdown level1 summary"><p><para><para>Display a string in the center.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SendCenterLabel(string text)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">text</span></td>
        <td><p><para><para>String to display</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_SendCenterLabel_System_String__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- All players currently connected to my game&#10;-- "Hello Nekoland!" in the middle of the screen Display string&#10;&#10;Server.SendCenterLabel("Hello Nekoland!")</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_SendSay_" data-uid="Commons.Server.Scripts.ScriptServer.SendSay*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_SendSay_System_String_System_UInt32_" data-uid="Commons.Server.Scripts.ScriptServer.SendSay(System.String,System.UInt32)">SendSay(String, UInt32)</h4>
  <div class="markdown level1 summary"><p><para><para>Display a message in the chat window.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SendSay(string text, uint color = 4294967295U)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">text</span></td>
        <td><p><para><para>Message to display</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.UInt32</span></td>
        <td><span class="parametername">color</span></td>
        <td><p><para><para>Color</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_SendSay_System_String_System_UInt32__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- In the game chat window, "Hello Nekoland!" Display a message&#10;&#10;Server.SendSay("Hello Nekoland!")</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_SetMonsterAI_" data-uid="Commons.Server.Scripts.ScriptServer.SetMonsterAI*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_SetMonsterAI_System_Int32_MoonSharp_Interpreter_Closure_" data-uid="Commons.Server.Scripts.ScriptServer.SetMonsterAI(System.Int32,MoonSharp.Interpreter.Closure)">SetMonsterAI(Int32, Closure)</h4>
  <div class="markdown level1 summary"><p><para><para>Register Monster AI</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SetMonsterAI(int id, Closure c)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Monster ID</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td><span class="parametername">c</span></td>
        <td><p><para><para>AI function</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_SetMonsterAI_System_Int32_MoonSharp_Interpreter_Closure__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- AI setting of monster 0&#10;&#10;Server.SetMonsterAI(0,&#10;    function(monster, ai, event, data)&#10;        -- Insert AI code here&#10;    end)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_SetPetAI_" data-uid="Commons.Server.Scripts.ScriptServer.SetPetAI*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_SetPetAI_System_Int32_MoonSharp_Interpreter_Closure_" data-uid="Commons.Server.Scripts.ScriptServer.SetPetAI(System.Int32,MoonSharp.Interpreter.Closure)">SetPetAI(Int32, Closure)</h4>
  <div class="markdown level1 summary"><p><para><para>Register pet AI</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SetPetAI(int id, Closure c)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Pet's Character ID</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">MoonSharp.Interpreter.Closure</span></td>
        <td><span class="parametername">c</span></td>
        <td><p><para><para>AI function</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_SetPetAI_System_Int32_MoonSharp_Interpreter_Closure__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- AI setting of pet 0&#10;&#10;Server.SetPetAI(0,&#10;    function(pet, ai, event, data)&#10;        -- Insert AI code here&#10;    end)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_SetWorldStringVar_" data-uid="Commons.Server.Scripts.ScriptServer.SetWorldStringVar*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_SetWorldStringVar_System_Int32_System_String_" data-uid="Commons.Server.Scripts.ScriptServer.SetWorldStringVar(System.Int32,System.String)">SetWorldStringVar(Int32, String)</h4>
  <div class="markdown level1 summary"><p><para><para>Set the world variable value</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SetWorldStringVar(int id, string value)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Variable id</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">value</span></td>
        <td><p><para><para>Variable value</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_SetWorldStringVar_System_Int32_System_String__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- "Hello Nekoland!" String storage&#10;&#10;&#10;Server.SetWorldStringVar(4, "Hello Nekoland!")</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_SetWorldVar_" data-uid="Commons.Server.Scripts.ScriptServer.SetWorldVar*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_SetWorldVar_System_Int32_System_Int64_" data-uid="Commons.Server.Scripts.ScriptServer.SetWorldVar(System.Int32,System.Int64)">SetWorldVar(Int32, Int64)</h4>
  <div class="markdown level1 summary"><p><para><para>Set the world variable value</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SetWorldVar(int id, long value)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">id</span></td>
        <td><p><para><para>Variable id</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int64</span></td>
        <td><span class="parametername">value</span></td>
        <td><p><para><para>Variable value</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_SetWorldVar_System_Int32_System_Int64__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- Set world variable 4 to 7&#10;&#10;Server.SetWorldVar(4, 7)</code></pre>

  
  
  <a id="Commons_Server_Scripts_ScriptServer_StartState_" data-uid="Commons.Server.Scripts.ScriptServer.StartState*"></a>
  <h4 id="Commons_Server_Scripts_ScriptServer_StartState_System_Int32_System_Single_" data-uid="Commons.Server.Scripts.ScriptServer.StartState(System.Int32,System.Single)">StartState(Int32, Single)</h4>
  <div class="markdown level1 summary"><p><para><para>After a time, execute a specific state.</para><br></para></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void StartState(int state, float time = 0F)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">state</span></td>
        <td><p><para><para>state number</para><br></para></p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Single</span></td>
        <td><span class="parametername">time</span></td>
        <td><p><para><para>run-time</para><br></para></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Commons_Server_Scripts_ScriptServer_StartState_System_Int32_System_Single__examples">Examples</h5>
  <pre><code class="lang-lua hljs">-- State 7 starts after 5 seconds&#10;-- Used in conjunction with Server.onStartState, Server.onEndState&#10;&#10;Server.StartState(7, 5)</code></pre>

</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
